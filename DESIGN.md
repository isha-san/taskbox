# Disclaimer

Running behind a few days (esp. w/ bug fixes & getting ALL frontend hooked up with backend) because the Frontend developer lives in Ohio, where it was storming the past weekend, and the power went out. They were unable to upload the key starter code in time. Contacted TFs and Course heads about this issue.

Git was also not working for the frontend developer. Tried many fixes, but couldn't pull or push code. In the end, the other coders had to copy-and-paste the code from Codepen/Code Sandbox format to the folder, and that copy-and-pasting could get very tricky.

# Technologies used

We chose to use React, a Javascript/client-side framework, and Flask, a Python/server-side framework. 

We chose React because it allowed us to create more dynamic webpages with relative ease and most of the group members were fairly familiar with React. Moreover, there was a lot of support available online, which made it an appealing choice for less experienced programmers like us. 

We chose Flask because everyone in the group was familiar with it and because it seemed lighter and more flexible than other frameworks like Django. Overall, it seemed like there was less work involved. 

On the backend, we used a SQLite database to store user information and task information. This was the most straightforward option, since it was similar to what we did in Problem Set 9 (Finance), so it wouldn't require too much extra learning. 

# Frontend-backend connection/how the servers are set up

In the file "package.json", the React frontend is configured to use the API backend as a proxy. When you run the application on your computer, you're running both servers at once. 

React sends requests to the backend using the Fetch API, which is built into Javascript. Lines that look like: 

fetch('./<Flask route name>)...

are calls to the API backend. 

# User authentication

Our user authentication system is, unfortunately, very insecure. We plan to work on this project more after finals and address this issue. For now, this is how our user authentication system is set up: 

Users sign up via a process very similar to that of Problem Set 9 (Finance). They enter their account information, which gets stored in an HTML form and then sent in a POST request to the server the Flask route 'signup'. The Flask application inserts the information into the users table in the SQLite database. The login process is very similar, except instead of SQL INSERT statements, we use SELECT statements. 

# Password reset (forgot password)

The password reset feature is still a work in progress, so it is commented out and we plan to finish the feature over winter break. By using flask-mail, users can elect to receive an email from our app if they do not remember their password. Users first input the email they signed up for an account with. If a matching email is found in the users table, the program proceeds to send a 'reset password' email to that user. This email contains a link generated by a JWT token that the user then clicks on to create a new password for their account. The users table is then updated with the user's new password. 

## Task management

#FRONTEND:

In React. Uses Props + States to have real-time saving & rendering.

Here's the codepen with all of the features: https://codepen.io/shayli/pen/oNzjJjP?editors=0111

Here's the code sandbox with more styling: https://codesandbox.io/s/login-iff0l?file=/src/App.js

The features inside of this project are:
  - Tasks that you can edit as inputs

PLUS a css file with many lines of styling.
PLUS styling for each of the signup and login pages, with material-ui.

The features not inside of this project but implemented in the codepen are: 
  - checkbox
  - a list of subtasks
  - a WORKING action menu
  - the ability to change each task based on the color
  - the ability to edit the name of the color tag

(aka the above are the features that weren't configured with the backend in time, but exist as frontend components).

The styling not inside of this project, but implemented in the Code Sandbox are:
  - navbar

#BACKEND:

When users enter or change their tasks, the React application sends more POST requests to the backend, specifically to the routes 'updateTask', 'deleteTask', and 'tasks'. These routes perform the corresponding CRUD operations on the tasks table in the database. The 'tasks' route is used to create new tasks and also accepts GET requests, so it is used to retrieve existing task information to display to the user when they open the schedule page. 

# Integration with Google Calendar API

We added the option for users to display events from their Google Calendar for that day in the schedule page. In the getEvents() function in 'Grid.js', we initialize a Google API client and then make requests to Google's server using the unique credentials obtained from the Google API Console. When the user asks to see their GCal events, we use OAuth to have them to sign in and select a primary calendar. 

We use the API's calendar.list() function to retrieve a list of all the users' events for that day. Then, functions in 'Grid.js'  re-format the data so it fits with our existing structure of half-hour timeblocks. React uses the stored event data to display the schedule with busy areas greyed out. 
